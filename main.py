from  Model.Formatter import Formatter
from  Model.Cluster import Cluster
import json 
import os
import sys
import pickle as pk

# import plotly 


# pip freeze > requirements.txt

def main():
    # plotly.tools.set_credentials_file(username='mike840609', api_key='1tjLWo3103p9bPcl6NN1')

    # '''

    formatter = Formatter()
    posts_dict = formatter.getPosts_dict()

    
    # print (json.dumps(posts_dict["1"], indent=2))
    # print (json.dumps(posts_dict["2"], indent=2))
    # print (json.dumps(posts_dict["3"], indent=2))
    # print (json.dumps(posts_dict["4"], indent=2))
    # print (json.dumps(posts_dict["5"], indent=2))
    # print (json.dumps(posts_dict["6"], indent=2))


    cluster_ope = Cluster()
    cluster_ope.kmeans(posts_dict)

    scores = [31891.655472918465, 31650.69537528365, 31440.67207541903, 31299.14851292718, 31192.970741663765, 31081.571126199677, 30954.70415947735, 30889.312428711964, 30803.275822690488, 30720.463129626944, 30614.807161166314, 30556.622707739287, 30501.683290012625, 30416.88635380967, 30354.06607872541, 30298.12415281338, 30256.40787385788, 30213.220288547174, 30168.909554466252, 30129.024847479504, 30103.595855818527, 30044.59478072291, 30001.548010821483, 29955.50454659099, 29914.727351922775, 29875.939703494787, 29842.43669189034, 29813.2266521583, 29776.21796408486, 29741.031541966826, 29693.04146781329, 29619.079426096338, 29599.952826186094, 29575.614248624286, 29546.859128853557, 29524.528210666842, 29456.833042491093, 29415.35961622317, 29388.386844404067, 29356.73912634624, 29329.683170341123, 29294.994646767456, 29245.274874620623, 29230.45810975741, 29215.00869387032, 29186.295758180444, 29157.77217319812, 29124.86609743327, 29091.93912273139, 29076.19315520363, 29040.097770566572, 29027.855294619694, 28988.872789731544, 28930.079815405094, 28887.949163735982, 28865.296290107613, 28838.341439495936, 28827.88176620343, 28802.95058722794]
    pk.dump(scores ,  open("scores.p","wb"))
    

    



if __name__ == '__main__':
    main()

    